"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[971],{4781:function(e,t,i){i.d(t,{v:function(){return o}});const o=({signUp:e,verifyEmailPath:t,verifyPhonePath:i,navigate:o,handleComplete:r})=>{var a,l;if("complete"===e.status)return r&&r();if("missing_requirements"===e.status){if((null===(a=e.unverifiedFields)||void 0===a?void 0:a.includes("email_address"))&&t)return o(t);if((null===(l=e.unverifiedFields)||void 0===l?void 0:l.includes("phone_number"))&&i)return o(i)}}},4166:function(e,t,i){i.d(t,{B:function(){return s},o:function(){return n}});var o=i(2903),r=i(6839),a=i(7756),l=i(2162);const n=e=>(0,o.tZ)(a.ArrowBlockButton,{variant:"ghost",...e}),s=e=>{var t;const{id:i,...a}=e;return(0,o.tZ)(n,{elementDescriptor:r.descriptors.profileSectionPrimaryButton,elementId:null===(t=r.descriptors.profileSectionPrimaryButton)||void 0===t?void 0:t.setId(i),colorScheme:"primary",...a,sx:e=>({justifyContent:"flex-start",gap:e.space.$2}),icon:(0,o.tZ)(r.Icon,{icon:l.v3,sx:e=>({width:e.sizes.$2x5,height:e.sizes.$2x5})}),children:e.children})}},9093:function(e,t,i){i.d(t,{Y:function(){return s},_:function(){return u}});var o=i(2903),r=(i(2784),i(7756)),a=i(2162),l=i(4334);const n=[{name:(0,l.u1)("userProfile.start.headerTitle__account"),id:"account",icon:a.n5,path:"/"},{name:(0,l.u1)("userProfile.start.headerTitle__security"),id:"security",icon:a.qy,path:""}],s=e=>(0,o.BX)(r.NavbarContextProvider,{children:[(0,o.tZ)(r.NavBar,{routes:n,contentRef:e.contentRef}),e.children]}),c={profile:n.find((e=>"account"===e.id)),"email-address":n.find((e=>"account"===e.id)),"phone-number":n.find((e=>"account"===e.id)),"connected-account":n.find((e=>"account"===e.id)),"web3-wallet":n.find((e=>"account"===e.id)),username:n.find((e=>"account"===e.id)),"multi-factor":n.find((e=>"security"===e.id)),password:n.find((e=>"security"===e.id))},u=e=>(0,o.tZ)(r.Breadcrumbs,{...e,pageToRootNavbarRoute:c})},6452:function(e,t,i){i.r(t),i.d(t,{UserProfile:function(){return ke},UserProfileModal:function(){return Le}});var o=i(2903),r=i(2784),a=i(8147),l=i(8173),n=i(6839),s=i(7756),c=i(3736),u=i(9093),d=i(3173),m=i(6046),f=i(2729);const p=(0,s.withCardStateProvider)((()=>{const e=(0,n.localizationKeys)("userProfile.connectedAccountPage.title"),t=(0,l.useCoreUser)(),{params:i}=(0,c.useRouter)(),{id:d}=i||{},m=r.useRef(t.externalAccounts.find((e=>e.id===d))),f=(0,a.a2)({defaultStep:m.current?1:0});return(0,o.BX)(a.en,{...f.props,children:[(0,o.tZ)(h,{}),(0,o.tZ)(s.SuccessPage,{title:e,text:(0,n.localizationKeys)("userProfile.connectedAccountPage.successMessage"),Breadcrumbs:u._})]})})),h=()=>{const e=(0,s.useCardState)(),t=(0,l.useCoreUser)(),{navigate:i}=(0,m.s0)(),{strategies:r,strategyToDisplayData:a}=(0,m.vO)(),{additionalOAuthScopes:c,componentName:u,mode:p}=(0,l.useUserProfileContext)(),h="modal"===p,P=r.filter((e=>e.startsWith("oauth"))),g=t.verifiedExternalAccounts.map((e=>"oauth_"+e.provider)),v=P.filter((e=>!g.includes(e)));return(0,o.BX)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.connectedAccountPage.title"),children:[(0,o.tZ)(n.Text,{localizationKey:v.length?(0,n.localizationKeys)("userProfile.connectedAccountPage.formHint"):(0,n.localizationKeys)("userProfile.connectedAccountPage.formHint__noAccounts")}),(0,o.tZ)(n.Col,{gap:2,children:v.map((r=>(0,o.tZ)(s.ArrowBlockButton,{id:a[r].id,onClick:()=>(o=>{const r=o.replace("oauth_",""),a=h?(0,d.bX)({url:window.location.href,componentName:u,socialProvider:r}):window.location.href,l=c?c[r]:[];e.setLoading(o),t.createExternalAccount({strategy:o,redirectUrl:a,additionalScopes:l}).then((e=>{var t;if(null===(t=e.verification)||void 0===t?void 0:t.externalVerificationRedirectURL)return i(e.verification.externalVerificationRedirectURL)})).catch((t=>(0,f.S3)(t,[],e.setError))).finally((()=>{(0,f._v)(2e3).then((()=>e.setIdle))}))})(r),isLoading:e.loadingMetadata===r,isDisabled:e.isLoading,icon:(0,o.tZ)(n.Image,{isLoading:e.loadingMetadata===r,isDisabled:e.isLoading,src:a[r].iconUrl,alt:`Connect ${a[r].name} account`,sx:e=>({width:e.sizes.$5})}),textLocalizationKey:(0,n.localizationKeys)("userProfile.connectedAccountPage.socialButtonsBlockButton",{provider:a[r].name})},r)))}),(0,o.tZ)(s.FormButtonContainer,{sx:{marginTop:0},children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset")})})]})},P=e=>(t,i)=>e===t.id?-1:e===i.id?1:0,g=e=>e.defaultSecondFactor?-1:1;function v(e){const t=[];return Object.entries(e).forEach((([,e])=>{e.used_for_second_factor&&t.push(...e.second_factors)})),t}function y(e,t){let i=v(e);return t.totpEnabled&&(i=i.filter((e=>"totp"!==e))),!t.backupCodeEnabled&&t.twoFactorEnabled||(i=i.filter((e=>"backup_code"!==e))),i}var b=i(6684);const S=e=>{const t=(0,s.useCardState)(),{nextStep:i,identification:a,identifier:l,prepareVerification:c}=e,[u,d]=r.useState(!1),p=(0,m._m)(),h=(0,f.Yp)("code",""),P=(0,s.useCodeControl)(h);r.useEffect((()=>{g()}),[]);const g=()=>{var e;return null===(e=null==c?void 0:c())||void 0===e?void 0:e.catch((e=>(0,f.S3)(e,[],t.setError)))},v=async e=>{(0,f.S3)(e,[h],t.setError),p.setIdle(),await(0,f._v)(750),P.reset()};return P.onCodeEntryFinished((e=>(p.setLoading(),h.setError(void 0),null==a?void 0:a.attemptVerification({code:e}).then((()=>(async()=>{d(!0),await(0,f._v)(750),i()})())).catch(v)))),(0,o.BX)(o.HY,{children:[(0,o.tZ)(b.T,{title:(0,n.localizationKeys)("userProfile.emailAddressPage.emailCode.formTitle"),subtitle:(0,n.localizationKeys)("userProfile.emailAddressPage.emailCode.formSubtitle",{identifier:l}),resendButton:(0,n.localizationKeys)("userProfile.emailAddressPage.emailCode.resendButton"),codeControl:P,isLoading:p.isLoading,success:u,onResendCodeClicked:g}),(0,o.tZ)(s.FormButtonContainer,{children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset"),elementDescriptor:n.descriptors.formButtonReset})})]})};var z=i(6874);const Z=e=>{const{email:t,nextStep:i}=e,a=(0,s.useCardState)(),c=(0,l.useUserProfileContext)(),{startMagicLinkFlow:u}=(0,m.jS)(t),{displayConfig:d}=(0,l.useEnvironment)();function p(){const{routing:e}=c,t="virtual"===e?d.userProfileUrl:"",o=(0,z.V)(c,t);u({redirectUrl:o}).then((()=>i())).catch((e=>(0,f.S3)(e,[],a.setError)))}return r.useEffect((()=>{p()}),[]),(0,o.BX)(o.HY,{children:[(0,o.tZ)(s.VerificationLink,{formTitle:(0,n.localizationKeys)("userProfile.emailAddressPage.emailLink.formTitle"),formSubtitle:(0,n.localizationKeys)("userProfile.emailAddressPage.emailLink.formSubtitle",{identifier:t.emailAddress}),resendButton:(0,n.localizationKeys)("userProfile.emailAddressPage.emailLink.resendButton"),onResendCodeClicked:p}),(0,o.tZ)(s.FormButtonContainer,{children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset"),elementDescriptor:n.descriptors.formButtonReset})})]})},C=()=>(0,o.tZ)(a.Ej,{title:(0,n.localizationKeys)("signUp.emailLink.verifiedSwitchTab.title"),subtitle:(0,n.localizationKeys)("signUp.emailLink.verifiedSwitchTab.subtitle"),status:"verified"}),K=(0,s.withCardStateProvider)((()=>{var e,t,i;const d=(0,n.localizationKeys)("userProfile.emailAddressPage.title"),m=(0,s.useCardState)(),p=(0,l.useCoreUser)(),h=function(e){const{userSettings:t}=e,{email_address:i}=t.attributes;return i.enabled&&i.verifications.includes("email_link")}((0,l.useEnvironment)()),{params:P}=(0,c.useRouter)(),{id:g}=P||{},v=r.useRef(p.emailAddresses.find((e=>e.id===g))),y=(0,a.a2)({defaultStep:v.current?1:0,onNextStep:()=>m.setError(void 0)}),b=(0,f.Yp)("emailAddress","",{type:"text",label:(0,n.localizationKeys)("formFieldLabel__emailAddress"),placeholder:(0,n.localizationKeys)("formFieldInputPlaceholder__emailAddress"),isRequired:!0}),z=b.value.length>1&&p.username!==b.value;return(0,o.BX)(a.en,{...y.props,children:[(0,o.tZ)(s.ContentPage,{headerTitle:d,children:(0,o.BX)(s.Form.Root,{onSubmit:async e=>(e.preventDefault(),p.createEmailAddress({email:b.value}).then((e=>{v.current=e,y.nextStep()})).catch((e=>(0,f.S3)(e,[b],m.setError)))),children:[(0,o.tZ)(s.Form.ControlRow,{elementId:b.id,children:(0,o.tZ)(s.Form.Control,{...b.props,required:!0,autoFocus:!0})}),(0,o.tZ)(n.Text,{localizationKey:h?(0,n.localizationKeys)("userProfile.emailAddressPage.emailLink.formHint"):(0,n.localizationKeys)("userProfile.emailAddressPage.emailCode.formHint"),variant:"regularRegular"}),(0,o.tZ)(s.FormButtons,{isDisabled:!z})]})}),(0,o.tZ)(s.ContentPage,{headerTitle:d,children:h?(0,o.tZ)(Z,{nextStep:y.nextStep,email:v.current}):(0,o.tZ)(S,{nextStep:y.nextStep,identification:v.current,identifier:null===(e=v.current)||void 0===e?void 0:e.emailAddress,prepareVerification:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.prepareVerification({strategy:"email_code"})}})}),(0,o.tZ)(s.SuccessPage,{title:d,text:h?(0,n.localizationKeys)("userProfile.emailAddressPage.emailLink.successMessage",{identifier:(null===(t=v.current)||void 0===t?void 0:t.emailAddress)||""}):(0,n.localizationKeys)("userProfile.emailAddressPage.emailCode.successMessage",{identifier:(null===(i=v.current)||void 0===i?void 0:i.emailAddress)||""}),Breadcrumbs:u._})]})}));var _=i(4016),B=i(9820);const T=e=>{const{code:t}=e;return(0,o.tZ)(n.Flex,{center:!0,sx:e=>({backgroundColor:e.colors.$blackAlpha50,padding:`${e.space.$1} ${e.space.$4}`,borderRadius:e.radii.$sm}),children:(0,o.tZ)(n.Text,{children:t})})},x=e=>{const{subtitle:t,backupCodes:i}=e,{applicationName:r}=(0,l.useEnvironment)().displayConfig,s=(0,l.useCoreUser)(),{print:c,printableProps:u}=(0,a.Qz)(),{onCopy:d,hasCopied:f}=(0,m.VP)((null==i?void 0:i.join(","))||""),p=(0,_.xC)(s);return i?(0,o.BX)(o.HY,{children:[(0,o.BX)(n.Col,{gap:1,children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.title__codelist"),variant:"regularMedium"}),(0,o.tZ)(n.Text,{localizationKey:t,variant:"smallRegular",colorScheme:"neutral"})]}),(0,o.tZ)(n.Grid,{gap:2,sx:e=>({gridTemplateColumns:`repeat(5, minmax(${e.sizes.$12}, 1fr))`,[B.mqu.sm]:{gridTemplateColumns:`repeat(2, minmax(${e.sizes.$12}, 1fr))`}}),children:i.map(((e,t)=>(0,o.tZ)(T,{code:e},t)))}),(0,o.BX)(n.Flex,{gap:6,children:[(0,o.tZ)(n.Button,{variant:"link",colorScheme:"primary",onClick:d,localizationKey:f?(0,n.localizationKeys)("userProfile.backupCodePage.actionLabel__copied"):(0,n.localizationKeys)("userProfile.backupCodePage.actionLabel__copy")}),(0,o.tZ)(n.Button,{variant:"link",colorScheme:"primary",onClick:()=>{const e=document.createElement("a"),t=new Blob([w(i,r,p)],{type:"text/plain"});e.href=URL.createObjectURL(t),e.download=`${r}_backup_codes.txt`,document.body.appendChild(e),e.click()},localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.actionLabel__download")}),(0,o.tZ)(n.Button,{variant:"link",colorScheme:"primary",onClick:c,localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.actionLabel__print")})]}),(0,o.BX)(a.o4,{...u,children:[(0,o.BX)(n.Heading,{children:["Your backup codes for ",r," account ",p,":"]}),(0,o.tZ)(n.Col,{gap:2,children:i.map(((e,t)=>(0,o.tZ)(T,{code:e},t)))})]})]}):null};function w(e,t,i){return`These are your backup codes for ${t} account ${i}.\nStore them securely and keep them secret. Each code can only be used once.\n\n${null==e?void 0:e.join("\n")}`}const R=(0,s.withCardStateProvider)((()=>{const e=(0,l.useCoreUser)(),t=(0,s.useCardState)(),[i,a]=r.useState(void 0);return r.useEffect((()=>{i||e.createBackupCode().then((e=>a(e))).catch((e=>(0,f.S3)(e,[],t.setError)))}),[]),t.error?(0,o.tZ)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.backupCodePage.title"),Breadcrumbs:u._}):(0,o.tZ)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.backupCodePage.title"),Breadcrumbs:u._,children:i?(0,o.BX)(o.HY,{children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.successMessage"),variant:"regularRegular"}),(0,o.tZ)(x,{subtitle:(0,n.localizationKeys)("userProfile.backupCodePage.subtitle__codelist"),backupCodes:i.codes}),(0,o.tZ)(s.FormButtonContainer,{children:(0,o.tZ)(s.NavigateToFlowStartButton,{variant:"solid",autoFocus:!0,localizationKey:(0,n.localizationKeys)("userProfile.formButtonPrimary__finish"),elementDescriptor:n.descriptors.formButtonPrimary})})]}):(0,o.tZ)(s.FullHeightLoader,{})})}));var A=i(2162);const k=(0,s.withCardStateProvider)((()=>{const e=(0,a.a2)();return(0,o.BX)(a.en,{...e.props,children:[(0,o.tZ)(L,{onContinue:e.nextStep}),(0,o.tZ)(R,{})]})})),L=e=>{const{onContinue:t}=e;return(0,o.BX)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.backupCodePage.title"),Breadcrumbs:u._,children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.infoText1")}),(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.backupCodePage.infoText2")}),(0,o.BX)(s.FormButtonContainer,{sx:{marginTop:0},children:[(0,o.tZ)(n.Button,{textVariant:"buttonExtraSmallBold",onClick:t,localizationKey:(0,n.localizationKeys)("userProfile.formButtonPrimary__finish"),elementDescriptor:n.descriptors.formButtonPrimary}),(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset"),elementDescriptor:n.descriptors.formButtonReset})]})]})},F=(0,s.withCardStateProvider)((()=>{var e;const t=(0,l.useCoreUser)(),{params:i}=(0,c.useRouter)(),{id:d}=i||{},m=r.useRef(t.phoneNumbers.find((e=>e.id===d))),f=(0,a.a2)({defaultStep:m.current?1:0});return(0,o.BX)(a.en,{...f.props,children:[(0,o.tZ)(N,{resourceRef:m,title:(0,n.localizationKeys)("userProfile.phoneNumberPage.title"),onSuccess:f.nextStep}),(0,o.tZ)(X,{resourceRef:m,title:(0,n.localizationKeys)("userProfile.phoneNumberPage.title"),onSuccess:f.nextStep}),(0,o.tZ)(s.SuccessPage,{title:(0,n.localizationKeys)("userProfile.phoneNumberPage.title"),text:(0,n.localizationKeys)("userProfile.phoneNumberPage.successMessage",{identifier:(null===(e=m.current)||void 0===e?void 0:e.phoneNumber)||""}),Breadcrumbs:u._})]})})),N=e=>{const{title:t,onSuccess:i,resourceRef:r}=e,a=(0,s.useCardState)(),c=(0,l.useCoreUser)(),d=(0,f.Yp)("phoneNumber","",{type:"tel",label:(0,n.localizationKeys)("formFieldLabel__phoneNumber"),isRequired:!0}),m=d.value.length>1&&c.username!==d.value;return(0,o.tZ)(s.ContentPage,{headerTitle:t,Breadcrumbs:u._,children:(0,o.BX)(s.Form.Root,{onSubmit:async e=>(e.preventDefault(),c.createPhoneNumber({phoneNumber:d.value}).then((e=>{r.current=e,i()})).catch((e=>(0,f.S3)(e,[d],a.setError)))),children:[(0,o.tZ)(s.Form.ControlRow,{elementId:d.id,children:(0,o.tZ)(s.Form.Control,{...d.props,required:!0,autoFocus:!0})}),(0,o.tZ)(n.Text,{variant:"regularRegular",localizationKey:(0,n.localizationKeys)("userProfile.phoneNumberPage.infoText")}),(0,o.tZ)(n.Text,{variant:"smallRegular",colorScheme:"neutral",localizationKey:(0,n.localizationKeys)("userProfile.phoneNumberPage.infoText__secondary")}),(0,o.tZ)(s.FormButtons,{isDisabled:!m})]})})},X=e=>{var t,i;const{title:r,onSuccess:a,resourceRef:l}=e;return(0,o.tZ)(s.ContentPage,{headerTitle:r,Breadcrumbs:u._,children:(0,o.tZ)(S,{nextStep:a,identification:l.current,identifier:null===(t=l.current)||void 0===t?void 0:t.phoneNumber,prepareVerification:null===(i=l.current)||void 0===i?void 0:i.prepareVerification})})};var U=i(4166);const E=(0,s.withCardStateProvider)((()=>{var e;const t=r.useRef(),i=(0,a.a2)({defaultStep:2});return(0,o.BX)(a.en,{...i.props,children:[(0,o.tZ)(N,{title:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.title"),resourceRef:t,onSuccess:i.nextStep}),(0,o.tZ)(X,{title:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.title"),resourceRef:t,onSuccess:i.nextStep}),(0,o.tZ)($,{onSuccess:i.nextStep,onAddPhoneClick:()=>i.goToStep(0),onUnverifiedPhoneClick:e=>{t.current=e,i.goToStep(1)},title:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.title"),resourceRef:t}),(0,o.tZ)(s.SuccessPage,{title:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.title"),text:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.successMessage"),content:(0,o.tZ)(x,{subtitle:(0,n.localizationKeys)("userProfile.backupCodePage.successSubtitle"),backupCodes:null===(e=t.current)||void 0===e?void 0:e.backupCodes}),Breadcrumbs:u._})]})})),$=e=>{const{onSuccess:t,title:i,onAddPhoneClick:r,onUnverifiedPhoneClick:a,resourceRef:c}=e,d=(0,s.useCardState)(),m=(0,l.useCoreUser)().phoneNumbers.filter((e=>!e.reservedForSecondFactor));return(0,o.BX)(s.ContentPage,{headerTitle:i,Breadcrumbs:u._,children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)(m.length?"userProfile.mfaPhoneCodePage.subtitle__availablePhoneNumbers":"userProfile.mfaPhoneCodePage.subtitle__unavailablePhoneNumbers")}),(0,o.BX)(n.Col,{gap:2,children:[m.map((e=>{const i=(0,f.L_)(e.phoneNumber),r=(0,f.uz)((0,f.y3)(e.phoneNumber).iso);return(0,o.tZ)(s.ArrowBlockButton,{onClick:()=>(e=>{if("verified"!==e.verification.status)return a(e);d.setLoading(e.id),e.setReservedForSecondFactor({reserved:!0}).then((()=>{d.setIdle(),t()})).catch((e=>(0,f.S3)(e,[],d.setError))),c.current=e})(e),isLoading:d.loadingMetadata===e.id,isDisabled:d.isLoading,icon:(0,o.tZ)(n.Text,{as:"span",sx:e=>({fontSize:e.fontSizes.$sm}),children:r}),children:i},e.id)})),(0,o.tZ)(U.B,{block:!1,onClick:r,textLocalizationKey:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.primaryButton__addPhoneNumber")})]}),(0,o.tZ)(s.FormButtonContainer,{sx:{marginTop:0},children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset")})})]})},I=e=>{const{title:t,onContinue:i}=e,c=(0,l.useCoreUser)(),d=(0,s.useCardState)(),[m,p]=r.useState(void 0),[h,P]=r.useState("qr");return r.useEffect((()=>{c.createTOTP().then((e=>p(e))).catch((e=>(0,f.S3)(e,[],d.setError)))}),[]),d.error?(0,o.tZ)(s.ContentPage,{headerTitle:t}):(0,o.BX)(s.ContentPage,{headerTitle:t,Breadcrumbs:u._,children:[!m&&(0,o.tZ)(s.FullHeightLoader,{}),m&&(0,o.BX)(o.HY,{children:[(0,o.BX)(n.Col,{gap:4,children:["qr"==h&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.infoText__ableToScan")}),(0,o.tZ)(a.s_,{url:m.uri||""}),(0,o.tZ)(n.Button,{variant:"link",onClick:()=>P("uri"),localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.buttonUnableToScan__nonPrimary")})]}),"uri"==h&&(0,o.BX)(o.HY,{children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.infoText__unableToScan")}),(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.inputLabel__unableToScan1")}),(0,o.tZ)(s.ClipboardInput,{value:m.secret}),(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.inputLabel__unableToScan2")}),(0,o.tZ)(s.ClipboardInput,{value:m.uri}),(0,o.tZ)(n.Button,{variant:"link",onClick:()=>P("qr"),localizationKey:(0,n.localizationKeys)("userProfile.mfaTOTPPage.authenticatorApp.buttonAbleToScan__nonPrimary")})]})]}),(0,o.BX)(s.FormButtonContainer,{sx:{marginTop:0},children:[(0,o.tZ)(n.Button,{textVariant:"buttonExtraSmallBold",onClick:i,localizationKey:(0,n.localizationKeys)("userProfile.formButtonPrimary__continue"),elementDescriptor:n.descriptors.formButtonPrimary}),(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset"),elementDescriptor:n.descriptors.formButtonReset})]})]})]})},D=e=>{const{onVerified:t,resourceRef:i}=e,a=(0,s.useCardState)(),c=(0,l.useCoreUser)(),d=(0,m._m)(),[p,h]=r.useState(!1),P=(0,f.Yp)("code",""),g=(0,s.useCodeControl)(P),v=async e=>{(0,f.S3)(e,[P],a.setError),d.setIdle(),await(0,f._v)(750),g.reset()};return g.onCodeEntryFinished((e=>(d.setLoading(),P.setError(void 0),c.verifyTOTP({code:e}).then((e=>(async e=>{h(!0),i.current=e,await(0,f._v)(750),t()})(e))).catch(v)))),(0,o.BX)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.mfaTOTPPage.title"),Breadcrumbs:u._,children:[(0,o.tZ)(n.Col,{children:(0,o.tZ)(b.T,{title:(0,n.localizationKeys)("userProfile.mfaTOTPPage.verifyTitle"),subtitle:(0,n.localizationKeys)("userProfile.mfaTOTPPage.verifySubtitle"),isLoading:d.isLoading,success:p,codeControl:g})}),(0,o.tZ)(s.FormButtonContainer,{sx:{marginTop:0},children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset"),elementDescriptor:n.descriptors.formButtonReset})})]})},M=(0,s.withCardStateProvider)((()=>{var e;const t=(0,a.a2)(),i=r.useRef();return(0,o.BX)(a.en,{...t.props,children:[(0,o.tZ)(I,{title:(0,n.localizationKeys)("userProfile.mfaTOTPPage.title"),onContinue:t.nextStep}),(0,o.tZ)(D,{onVerified:t.nextStep,resourceRef:i}),(0,o.tZ)(s.SuccessPage,{title:(0,n.localizationKeys)("userProfile.mfaTOTPPage.title"),text:(0,n.localizationKeys)("userProfile.mfaTOTPPage.successMessage"),content:(0,o.tZ)(x,{subtitle:(0,n.localizationKeys)("userProfile.backupCodePage.successSubtitle"),backupCodes:null===(e=i.current)||void 0===e?void 0:e.backupCodes}),Breadcrumbs:u._})]})})),O=(0,s.withCardStateProvider)((()=>{const e=(0,s.useCardState)(),{userSettings:{attributes:t}}=(0,l.useEnvironment)(),i=(0,l.useCoreUser)(),a=(0,n.localizationKeys)("userProfile.mfaPage.title"),[c,d]=r.useState(),m=r.useMemo((()=>y(t,i)),[]);return r.useEffect((()=>{0===m.length&&e.setError("There are no second factors available to add")}),[]),e.error?(0,o.tZ)(s.ContentPage,{headerTitle:a,Breadcrumbs:u._}):1===m.length||c?(0,o.tZ)(W,{method:c||m[0]}):(0,o.BX)(s.ContentPage,{headerTitle:a,Breadcrumbs:u._,children:[(0,o.BX)(n.Col,{gap:4,children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)("userProfile.mfaPage.formHint")}),(0,o.tZ)(n.Grid,{gap:2,sx:e=>({gridTemplateColumns:`repeat(3, minmax(${e.sizes.$24}, 1fr))`,gridAutoRows:e.sizes.$24,[B.mqu.sm]:{gridTemplateColumns:`repeat(2, minmax(${e.sizes.$24}, 1fr))`}}),children:m.map(((e,t)=>(0,o.tZ)(q,{method:e,setSelectedMethod:d},t)))})]}),(0,o.tZ)(s.FormButtonContainer,{sx:{marginTop:0},children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset")})})]})})),W=e=>{const{method:t}=e;switch(t){case"phone_code":return(0,o.tZ)(E,{});case"totp":return(0,o.tZ)(M,{});case"backup_code":return(0,o.tZ)(k,{});default:return null}},q=e=>{const{method:t,setSelectedMethod:i}=e;let r,a;if("phone_code"===t)r=A.ij,a="SMS code";else if("totp"===t)r=A.hc,a="Authenticator application";else{if("backup_code"!==t)return null;r=A.TZ,a="Backup code"}return(0,o.tZ)(s.TileButton,{icon:r,onClick:()=>i(t),children:a})},H=(0,s.withCardStateProvider)((()=>{const e=(0,n.localizationKeys)("userProfile.passwordPage.title"),t=(0,l.useCoreUser)(),i=(0,s.useCardState)(),r=(0,a.a2)(),c=(0,f.Yp)("password","",{type:"password",label:(0,n.localizationKeys)("formFieldLabel__newPassword"),isRequired:!0}),d=(0,f.Yp)("confirmPassword","",{type:"password",label:(0,n.localizationKeys)("formFieldLabel__confirmPassword"),isRequired:!0}),m=c.value&&c.value===d.value&&c.value.length>7;return(0,o.BX)(a.en,{...r.props,children:[(0,o.tZ)(s.ContentPage,{headerTitle:e,Breadcrumbs:u._,children:(0,o.BX)(s.Form.Root,{onSubmit:async()=>{try{await t.update({password:c.value}),r.nextStep()}catch(e){(0,f.S3)(e,[c,d],i.setError)}},onBlur:()=>{c.value&&d.value&&c.value!==d.value?c.setError("Passwords don't match."):c.value.length>0&&c.value.length<8?c.setError("Passwords must be 8 characters or more."):c.setError(void 0)},children:[(0,o.tZ)(s.Form.ControlRow,{elementId:c.id,children:(0,o.tZ)(s.Form.Control,{...c.props,minLength:6,required:!0,autoFocus:!0})}),(0,o.tZ)(s.Form.ControlRow,{elementId:d.id,children:(0,o.tZ)(s.Form.Control,{...d.props})}),(0,o.tZ)(s.FormButtons,{isDisabled:!m})]})}),(0,o.tZ)(s.SuccessPage,{title:e,text:(0,n.localizationKeys)("userProfile.passwordPage.successMessage"),Breadcrumbs:u._})]})}));var V=i(4334);const Y=e=>{const{user:t,...i}=e;return(0,o.tZ)(s.AvatarUploader,{...i,title:(0,V.u1)("userProfile.profilePage.imageFormTitle"),avatarPreview:(0,o.tZ)(s.UserAvatar,{size:e=>e.sizes.$11,optimize:!0,...t})})},j=(0,s.withCardStateProvider)((()=>{const e=(0,n.localizationKeys)("userProfile.profilePage.title"),t=(0,s.useCardState)(),i=(0,l.useCoreUser)(),[c,d]=r.useState(!1),{first_name:m,last_name:p}=(0,l.useEnvironment)().userSettings.attributes,h=m.enabled,P=p.enabled,g=i.firstName||"",v=i.lastName||"",y=(0,a.a2)({onNextStep:()=>t.setError(void 0)}),b=(0,f.Yp)("firstName",i.firstName||"",{type:"text",label:(0,n.localizationKeys)("formFieldLabel__firstName"),placeholder:(0,n.localizationKeys)("formFieldInputPlaceholder__firstName")}),S=(0,f.Yp)("lastName",i.lastName||"",{type:"text",label:(0,n.localizationKeys)("formFieldLabel__lastName"),placeholder:(0,n.localizationKeys)("formFieldInputPlaceholder__lastName")}),z=h&&b.value!==g||P&&S.value!==v,Z=z||c,C=h&&m.required||P&&p.required,K=C&&!!S.value&&!!b.value&&Z;return(0,o.BX)(a.en,{...y.props,children:[(0,o.tZ)(s.ContentPage,{headerTitle:e,Breadcrumbs:u._,children:(0,o.BX)(s.Form.Root,{onSubmit:async e=>(e.preventDefault(),(z?i.update({firstName:b.value,lastName:S.value}):Promise.resolve()).then((()=>{y.nextStep()})).catch((e=>{(0,f.S3)(e,[b,S],t.setError)}))),children:[(0,o.tZ)(Y,{user:i,onAvatarChange:e=>i.setProfileImage({file:e}).then((()=>{d(!0),t.setIdle()})).catch((e=>(0,f.S3)(e,[],t.setError))),onAvatarRemove:(0,_.Wn)(i.profileImageUrl)?()=>{i.setProfileImage({file:null}).then((()=>{d(!0),t.setIdle()})).catch((e=>(0,f.S3)(e,[],t.setError)))}:null}),h&&(0,o.tZ)(s.Form.ControlRow,{elementId:b.id,children:(0,o.tZ)(s.Form.Control,{autoFocus:!0,...b.props,required:m.required})}),P&&(0,o.tZ)(s.Form.ControlRow,{elementId:S.id,children:(0,o.tZ)(s.Form.Control,{...S.props,required:p.required})}),(0,o.tZ)(s.FormButtons,{isDisabled:C?!K:!Z})]})}),(0,o.tZ)(s.SuccessPage,{title:e,text:(0,n.localizationKeys)("userProfile.profilePage.successMessage"),Breadcrumbs:u._})]})})),G=()=>{const e=(0,l.useCoreUser)(),{id:t}=(0,c.useRouter)().params,i=e.emailAddresses.find((e=>e.id===t)),a=r.useRef(null==i?void 0:i.emailAddress);return a.current?(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.emailAddressPage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.emailAddressPage.removeResource.messageLine1",{identifier:a.current}),messageLine2:(0,n.localizationKeys)("userProfile.emailAddressPage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.emailAddressPage.removeResource.successMessage",{emailAddress:a.current}),deleteResource:()=>Promise.resolve(null==i?void 0:i.destroy())}):null},Q=()=>{const e=(0,l.useCoreUser)(),{id:t}=(0,c.useRouter)().params,i=e.phoneNumbers.find((e=>e.id===t)),a=r.useRef(null==i?void 0:i.phoneNumber);return a.current?(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.phoneNumberPage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.phoneNumberPage.removeResource.messageLine1",{identifier:a.current}),messageLine2:(0,n.localizationKeys)("userProfile.phoneNumberPage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.phoneNumberPage.removeResource.successMessage",{phoneNumber:a.current}),deleteResource:()=>Promise.resolve(null==i?void 0:i.destroy())}):null},J=()=>{var e,t;const i=(0,l.useCoreUser)(),{id:a}=(0,c.useRouter)().params,s=i.externalAccounts.find((e=>e.id===a)),u=r.useRef(null==s?void 0:s.provider),{providerToDisplayData:d}=(0,m.vO)();return u.current?(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.connectedAccountPage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.connectedAccountPage.removeResource.messageLine1",{identifier:null===(e=d[u.current])||void 0===e?void 0:e.name}),messageLine2:(0,n.localizationKeys)("userProfile.connectedAccountPage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.connectedAccountPage.removeResource.successMessage",{connectedAccount:null===(t=d[u.current])||void 0===t?void 0:t.name}),deleteResource:()=>Promise.resolve(null==s?void 0:s.destroy())}):null},ee=()=>{const e=(0,l.useCoreUser)(),{id:t}=(0,c.useRouter)().params,i=e.web3Wallets.find((e=>e.id===t)),a=r.useRef(null==i?void 0:i.web3Wallet);return a.current?(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.web3WalletPage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.web3WalletPage.removeResource.messageLine1",{identifier:a.current}),messageLine2:(0,n.localizationKeys)("userProfile.web3WalletPage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.web3WalletPage.removeResource.successMessage",{web3Wallet:a.current}),deleteResource:()=>Promise.resolve(null==i?void 0:i.destroy())}):null},te=()=>{const e=(0,l.useCoreUser)(),{id:t}=(0,c.useRouter)().params,i=e.phoneNumbers.find((e=>e.id===t)),a=r.useRef(null==i?void 0:i.phoneNumber);return a.current?(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.removeResource.messageLine1",{identifier:a.current}),messageLine2:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.mfaPhoneCodePage.removeResource.successMessage",{mfaPhoneCode:a.current}),deleteResource:()=>Promise.resolve(null==i?void 0:i.setReservedForSecondFactor({reserved:!1}))}):null},ie=()=>{const e=(0,l.useCoreUser)();return(0,o.tZ)(oe,{title:(0,n.localizationKeys)("userProfile.mfaTOTPPage.removeResource.title"),messageLine1:(0,n.localizationKeys)("userProfile.mfaTOTPPage.removeResource.messageLine1"),messageLine2:(0,n.localizationKeys)("userProfile.mfaTOTPPage.removeResource.messageLine2"),successMessage:(0,n.localizationKeys)("userProfile.mfaTOTPPage.removeResource.successMessage"),deleteResource:e.disableTOTP})},oe=(0,s.withCardStateProvider)((e=>{const{title:t,messageLine1:i,messageLine2:r,successMessage:l,deleteResource:c}=e,d=(0,a.a2)(),m=(0,s.useCardState)();return(0,o.BX)(a.en,{...d.props,children:[(0,o.tZ)(s.ContentPage,{headerTitle:t,Breadcrumbs:u._,children:(0,o.BX)(s.Form.Root,{onSubmit:async()=>{try{await c().then((()=>d.nextStep()))}catch(e){(0,f.S3)(e,[],m.setError)}},children:[(0,o.tZ)(n.Text,{localizationKey:i,variant:"regularRegular"}),(0,o.tZ)(n.Text,{localizationKey:r,variant:"regularRegular"}),(0,o.tZ)(s.FormButtons,{colorScheme:"danger"})]})}),(0,o.tZ)(s.SuccessPage,{title:t,text:l,Breadcrumbs:u._})]})}));var re=i(6465);const ae=e=>{const{title:t,subtitle:i,actionLabel:r,titleLabel:a,onClick:l,...s}=e,c=(0,m._m)(),{t:u}=(0,n.useLocalizations)();return(0,o.BX)(n.Col,{gap:2,children:[(0,o.BX)(n.Col,{gap:1,children:[(0,o.BX)(n.Flex,{gap:2,align:"center",children:[(0,o.tZ)(n.Text,{localizationKey:t,variant:"regularMedium"}),a]}),(0,o.tZ)(n.Text,{localizationKey:i,variant:"smallRegular",colorScheme:"neutral"})]}),r&&(0,o.tZ)(n.Button,{localizationKey:r,loadingText:u(r),colorScheme:"primary",variant:"link",...s,isLoading:c.isLoading,onClick:e=>{var t;c.setLoading(),l&&(null===(t=null==l?void 0:l(e))||void 0===t||t.finally((()=>c.setIdle())))}})]})},le=e=>{const t="modal"===(0,l.useUserProfileContext)().mode;return(0,o.tZ)(s.AccordionItem,{scrollOnOpen:t,...e})},ne=()=>{const e=(0,l.useCoreUser)(),t=(0,l.useCoreSession)(),[i,a]=r.useState([]);return r.useEffect((()=>{null==e||e.getSessions().then((e=>a(e)))}),[e]),(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.title"),id:"activeDevices",children:[!i.length&&(0,o.tZ)(s.FullHeightLoader,{}),!!i.length&&i.sort((c=null==t?void 0:t.id,e=>e.id===c?-1:1)).map((e=>(0,o.tZ)(se,{session:e},e.id)))]});var c},se=e=>{var t;const i=(null===(t=(0,l.useCoreSession)())||void 0===t?void 0:t.id)===e.session.id;return(0,o.tZ)(le,{title:(0,o.tZ)(ce,{session:e.session}),children:(0,o.BX)(n.Col,{gap:4,children:[i&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.detailsTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.detailsSubtitle")}),!i&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.activeDevicesSection.destructiveAction"),colorScheme:"danger",onClick:async()=>{if(!i&&e.session)return e.session.revoke()}})]})})},ce=e=>{const t=(0,l.useCoreSession)(),i=(null==t?void 0:t.id)===e.session.id,r=!!t.actor,a=!!e.session.actor,{city:s,country:c,browserName:u,browserVersion:d,deviceType:m,ipAddress:p,isMobile:h}=e.session.latestActivity,P=m||(h?"Mobile device":"Desktop device"),g=`${u||""} ${d||""}`.trim()||"Web browser",v=[s||"",c||""].filter(Boolean).join(", ").trim()||null,{t:y}=(0,n.useLocalizations)();return(0,o.BX)(n.Flex,{align:"center",sx:e=>({gap:e.space.$8,[B.mqu.xs]:{gap:e.space.$2}}),children:[(0,o.tZ)(n.Flex,{center:!0,sx:e=>({padding:`0 ${e.space.$3}`,[B.mqu.sm]:{padding:"0"},borderRadius:e.radii.$md}),children:(0,o.tZ)(n.Icon,{elementDescriptor:n.descriptors.activeDeviceIcon,elementId:n.descriptors.activeDeviceIcon.setId(h?"mobile":"desktop"),icon:h?A.Fh:A.eu,sx:e=>({"--cl-chassis-bottom":"#444444","--cl-chassis-back":"#343434","--cl-chassis-screen":"#575757","--cl-screen":"#000000",width:e.space.$20,height:e.space.$20,[B.mqu.sm]:{width:e.space.$10,height:e.space.$10}})})}),(0,o.BX)(n.Col,{align:"start",gap:1,children:[(0,o.BX)(n.Flex,{center:!0,gap:2,children:[(0,o.tZ)(n.Text,{variant:"smallMedium",children:P}),i&&(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__thisDevice"),colorScheme:r?"danger":"primary"}),r&&!a&&(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__userDevice")}),!i&&a&&(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__otherImpersonatorDevice"),colorScheme:"danger"})]}),(0,o.tZ)(n.Text,{variant:"smallRegular",colorScheme:"neutral",children:g}),(0,o.BX)(n.Text,{variant:"smallRegular",colorScheme:"neutral",children:[p," (",v,")"]}),(0,o.tZ)(n.Text,{variant:"smallRegular",colorScheme:"neutral",children:y((0,f.Qg)(e.session.lastActiveAt))})]})]})};var ue=i(3394);const de=()=>{const e=(0,l.useCoreUser)(),{navigate:t}=(0,ue.s)(),i=[...e.verifiedExternalAccounts,...e.unverifiedExternalAccounts.filter((e=>{var t;return null===(t=e.verification)||void 0===t?void 0:t.error}))];return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.title"),id:"connectedAccounts",children:[i.map((e=>(0,o.tZ)(me,{account:e},e.id))),(0,o.tZ)(U.B,{textLocalizationKey:(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.primaryButton"),id:"connectedAccounts",onClick:()=>t("connected-account")})]})},me=({account:e})=>{var t,i,r,a,u;const p=(0,s.useCardState)(),h=(0,l.useCoreUser)(),{navigate:P}=(0,ue.s)(),g=(0,c.useRouter)(),{providerToDisplayData:v}=(0,m.vO)(),y=null===(i=null===(t=e.verification)||void 0===t?void 0:t.error)||void 0===i?void 0:i.longMessage,b=e.username||e.emailAddress,S=!!(null===(r=g.urlStateParam)||void 0===r?void 0:r.componentName),{additionalOAuthScopes:z,componentName:Z,mode:C}=(0,l.useUserProfileContext)(),K="modal"===C,_=e.provider===(null===(a=g.urlStateParam)||void 0===a?void 0:a.socialProvider),B=function(e,t){if(!t)return[];const i=t[e.provider]||[],o=e.approvedScopes.split(" ");return 0===i.filter((e=>!o.includes(e))).length?[]:i}(e,z),T=B.length>0&&""!=e.approvedScopes,x=T?(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.title__reauthorize"):(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.title__conectionFailed"),w=T?(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.subtitle__reauthorize"):y,R=T?(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.actionLabel__reauthorize"):(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.actionLabel__conectionFailed");return(0,o.tZ)(le,{defaultOpen:_&&S,onCloseCallback:null===(u=g.urlStateParam)||void 0===u?void 0:u.clearUrlStateParam,icon:(0,o.tZ)(n.Image,{elementDescriptor:[n.descriptors.providerIcon],elementId:n.descriptors.socialButtonsProviderIcon.setId(e.provider),alt:v[e.provider].name,src:v[e.provider].iconUrl,sx:e=>({width:e.sizes.$4})}),title:(0,o.BX)(n.Flex,{gap:2,center:!0,children:[`${v[e.provider].name} ${b?`(${b})`:""}`,(y||T)&&(0,o.tZ)(n.Badge,{colorScheme:"danger",localizationKey:(0,n.localizationKeys)("badge__requiresAction")})]}),children:(0,o.BX)(n.Col,{gap:4,children:[(0,o.tZ)(s.UserPreview,{externalAccount:e,size:"lg",icon:(0,o.tZ)(n.Image,{alt:v[e.provider].name,src:v[e.provider].iconUrl,sx:e=>({width:e.sizes.$4})})}),(y||T)&&(0,o.tZ)(ae,{title:x,subtitle:w,actionLabel:R,onClick:async()=>{const t=K?(0,d.bX)({url:window.location.href,componentName:Z}):window.location.href;try{let i;i=T?await e.reauthorize({additionalScopes:B,redirectUrl:t}):await h.createExternalAccount({strategy:e.verification.strategy,redirectUrl:t,additionalScopes:B}),P(i.verification.externalVerificationRedirectURL)}catch(e){(0,f.S3)(e,[],p.setError)}}}),(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.connectedAccountsSection.destructiveActionAccordionSubtitle"),colorScheme:"danger",onClick:()=>P(`connected-account/${e.id}/remove`)})]})})},fe=()=>{const{navigate:e}=(0,ue.s)(),t=(0,l.useCoreUser)();return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.title"),id:"emailAddresses",children:[t.emailAddresses.sort(P(t.primaryEmailAddressId)).map((e=>(0,o.tZ)(pe,{email:e},e.id))),(0,o.tZ)(U.B,{textLocalizationKey:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.primaryButton"),id:"emailAddresses",onClick:()=>e("email-address")})]})},pe=({email:e})=>{const t=(0,s.useCardState)(),i=(0,l.useCoreUser)(),{navigate:r}=(0,ue.s)(),a=i.primaryEmailAddressId===e.id,c="verified"===e.verification.status;return(0,o.tZ)(le,{title:e.emailAddress,badge:a?(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__primary")}):void 0,children:(0,o.BX)(n.Col,{gap:4,children:[a&&c&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsTitle__primary"),subtitle:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsSubtitle__primary")}),a&&!c&&(0,o.tZ)(ae,{titleLabel:(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__unverified"),colorScheme:"warning"}),title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsTitle__primary"),subtitle:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsSubtitle__primary"),actionLabel:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsAction__primary"),onClick:()=>r(`email-address/${e.id}`)}),!a&&c&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsTitle__nonPrimary"),subtitle:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsSubtitle__nonPrimary"),actionLabel:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsAction__nonPrimary"),onClick:()=>i.update({primaryEmailAddressId:e.id}).catch((e=>(0,f.S3)(e,[],t.setError)))}),!a&&!c&&(0,o.tZ)(ae,{titleLabel:(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__unverified"),colorScheme:"warning"}),title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsTitle__unverified"),subtitle:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsSubtitle__unverified"),actionLabel:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.detailsAction__unverified"),onClick:()=>r(`email-address/${e.id}`)}),(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.emailAddressesSection.destructiveAction"),colorScheme:"danger",onClick:()=>r(`email-address/${e.id}/remove`)})]})})},he=()=>{const{navigate:e}=(0,m.s0)(),{t:t}=(0,n.useLocalizations)();return(0,o.tZ)(le,{icon:(0,o.tZ)(n.Icon,{icon:A.TZ,sx:e=>({color:e.colors.$blackAlpha700})}),title:t((0,n.localizationKeys)("userProfile.start.mfaSection.backupCodes.headerTitle")),children:(0,o.tZ)(n.Col,{gap:4,children:(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.mfaSection.backupCodes.title__regenerate"),subtitle:(0,n.localizationKeys)("userProfile.start.mfaSection.backupCodes.subtitle__regenerate"),actionLabel:(0,n.localizationKeys)("userProfile.start.mfaSection.backupCodes.actionLabel__regenerate"),onClick:()=>e("multi-factor/backup_code/add")})})})},Pe=({phone:e,showTOTP:t})=>{const{navigate:i}=(0,m.s0)(),r=(0,s.useCardState)(),a=!t&&e.defaultSecondFactor;return(0,o.tZ)(le,{icon:(0,o.tZ)(n.Icon,{icon:A.ij,sx:e=>({color:e.colors.$blackAlpha700})}),title:(0,o.BX)(o.HY,{children:["SMS Code ",(0,o.tZ)(s.FormattedPhoneNumberText,{value:e.phoneNumber})]}),badge:a?(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__default")}):void 0,children:(0,o.BX)(n.Col,{gap:4,children:[!t&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)(a?"userProfile.start.mfaSection.phoneCode.title__default":"userProfile.start.mfaSection.phoneCode.title__setDefault"),subtitle:(0,n.localizationKeys)(a?"userProfile.start.mfaSection.phoneCode.subtitle__default":"userProfile.start.mfaSection.phoneCode.subtitle__setDefault"),actionLabel:a?void 0:(0,n.localizationKeys)("userProfile.start.mfaSection.phoneCode.actionLabel__setDefault"),onClick:()=>e.makeDefaultSecondFactor().catch((e=>(0,f.S3)(e,[],r.setError)))}),(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.mfaSection.phoneCode.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.mfaSection.phoneCode.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.mfaSection.phoneCode.destructiveActionLabel"),colorScheme:"danger",onClick:()=>i(`multi-factor/${e.id}/remove`)})]})})},ge=()=>{const{navigate:e}=(0,m.s0)(),{t:t}=(0,n.useLocalizations)();return(0,o.tZ)(le,{icon:(0,o.tZ)(n.Icon,{icon:A.hc,sx:e=>({color:e.colors.$blackAlpha700})}),title:t((0,n.localizationKeys)("userProfile.start.mfaSection.totp.headerTitle")),badge:(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__default")}),children:(0,o.BX)(n.Col,{gap:4,children:[(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.mfaSection.totp.title"),subtitle:(0,n.localizationKeys)("userProfile.start.mfaSection.totp.subtitle")}),(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.mfaSection.totp.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.mfaSection.totp.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.mfaSection.totp.destructiveActionLabel"),colorScheme:"danger",onClick:()=>e("multi-factor/totp/remove")})]})})},ve=()=>{const{navigate:e}=(0,m.s0)(),{userSettings:{attributes:t}}=(0,l.useEnvironment)(),i=(0,l.useCoreUser)(),r=v(t),a=y(t,i),c=r.includes("totp")&&i.totpEnabled,u=r.includes("backup_code")&&i.backupCodeEnabled,d=i.phoneNumbers.filter((e=>"verified"===e.verification.status)).filter((e=>e.reservedForSecondFactor)).sort(g);return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.mfaSection.title"),id:"mfa",children:[c&&(0,o.tZ)(ge,{}),r.includes("phone_code")&&d.map((e=>(0,o.tZ)(Pe,{phone:e,showTOTP:c},e.id))),u&&(0,o.tZ)(he,{}),a.length>0&&(0,o.tZ)(U.B,{textLocalizationKey:(0,n.localizationKeys)("userProfile.start.mfaSection.primaryButton"),id:"mfa",onClick:()=>e("multi-factor")})]})},ye=()=>{const{navigate:e}=(0,ue.s)(),{passwordEnabled:t}=(0,l.useCoreUser)();return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.passwordSection.title"),id:"password",children:[t&&(0,o.tZ)(n.Text,{variant:"smallRegular",sx:e=>({padding:`${e.space.$2} ${e.space.$4}`}),children:"••••••••••"}),(0,o.tZ)(U.B,{id:"password",onClick:()=>e("password"),textLocalizationKey:t?(0,n.localizationKeys)("userProfile.start.passwordSection.primaryButton__changePassword"):(0,n.localizationKeys)("userProfile.start.passwordSection.primaryButton__setPassword")})]})},be=()=>{const e=(0,l.useCoreUser)(),{navigate:t}=(0,m.s0)();return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.title"),id:"phoneNumbers",children:[e.phoneNumbers.sort(P(e.primaryPhoneNumberId)).map((e=>(0,o.tZ)(Se,{phone:e},e.id))),(0,o.tZ)(U.B,{textLocalizationKey:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.primaryButton"),id:"password",onClick:()=>t("phone-number")})]})},Se=({phone:e})=>{const t=(0,s.useCardState)(),i=(0,l.useCoreUser)(),{navigate:r}=(0,m.s0)(),a=i.primaryPhoneNumberId===e.id,c="verified"===e.verification.status,u=(0,f.L_)(e.phoneNumber),d=(0,f.uz)((0,f.y3)(e.phoneNumber).iso);return(0,o.tZ)(le,{icon:(0,o.tZ)(n.Text,{as:"span",sx:e=>({fontSize:e.fontSizes.$sm}),children:d}),title:u,badge:a?(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__primary")}):void 0,children:(0,o.BX)(n.Col,{gap:4,children:[a&&c&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsTitle__primary"),subtitle:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsSubtitle__primary")}),a&&!c&&(0,o.tZ)(ae,{titleLabel:(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__unverified"),colorScheme:"warning"}),title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsTitle__primary"),subtitle:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsSubtitle__primary"),actionLabel:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsAction__primary"),onClick:()=>r(`phone-number/${e.id}`)}),!a&&c&&(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsTitle__nonPrimary"),subtitle:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsSubtitle__nonPrimary"),actionLabel:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsAction__nonPrimary"),onClick:()=>i.update({primaryPhoneNumberId:e.id}).catch((e=>(0,f.S3)(e,[],t.setError)))}),!a&&!c&&(0,o.tZ)(ae,{titleLabel:(0,o.tZ)(n.Badge,{localizationKey:(0,n.localizationKeys)("badge__unverified"),colorScheme:"warning"}),title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsTitle__unverified"),subtitle:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsSubtitle__unverified"),actionLabel:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.detailsAction__unverified"),onClick:()=>r(`phone-number/${e.id}`)}),(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.phoneNumbersSection.destructiveAction"),colorScheme:"danger",onClick:()=>r(`phone-number/${e.id}/remove`)})]})})},ze=()=>{const e=(0,l.useCoreUser)(),{navigate:t}=(0,ue.s)();return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.usernameSection.title"),id:"username",children:[e.username&&(0,o.tZ)(n.Text,{variant:"smallRegular",sx:e=>({padding:`${e.space.$2} ${e.space.$4}`}),children:e.username}),(0,o.tZ)(U.B,{id:"username",onClick:()=>t("username"),textLocalizationKey:e.username?(0,n.localizationKeys)("userProfile.start.usernameSection.primaryButton__changeUsername"):(0,n.localizationKeys)("userProfile.start.usernameSection.primaryButton__setUsername")})]})},Ze=()=>{const{navigate:e}=(0,m.s0)(),{username:t,primaryEmailAddress:i,primaryPhoneNumber:r,...a}=(0,l.useCoreUser)();return(0,o.tZ)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.profileSection.title"),id:"profile",children:(0,o.tZ)(U.o,{onClick:()=>e("profile"),children:(0,o.tZ)(s.UserPreview,{user:a,size:"lg"})})})},Ce=()=>{const e=(0,l.useCoreUser)(),{navigate:t}=(0,ue.s)();return(0,o.BX)(s.ProfileSection,{title:(0,n.localizationKeys)("userProfile.start.web3WalletsSection.title"),id:"web3Wallets",children:[e.web3Wallets.map((e=>(0,o.tZ)(Ke,{wallet:e},e.id))),(0,o.tZ)(U.B,{id:"password",onClick:()=>t("web3-wallet"),textLocalizationKey:(0,n.localizationKeys)("userProfile.start.web3WalletsSection.primaryButton")})]})},Ke=({wallet:e})=>{const{navigate:t}=(0,ue.s)(),{strategyToDisplayData:i}=(0,m.vO)(),r=e.verification.strategy;return(0,o.tZ)(le,{title:(0,o.BX)(n.Flex,{align:"center",gap:4,children:[(0,o.tZ)(n.Image,{src:i[r].iconUrl,alt:i[r].name,sx:e=>({width:e.sizes.$4})}),i[r].name," (",e.web3Wallet,")"]}),children:(0,o.tZ)(n.Col,{gap:4,children:(0,o.tZ)(ae,{title:(0,n.localizationKeys)("userProfile.start.web3WalletsSection.destructiveActionTitle"),subtitle:(0,n.localizationKeys)("userProfile.start.web3WalletsSection.destructiveActionSubtitle"),actionLabel:(0,n.localizationKeys)("userProfile.start.web3WalletsSection.destructiveAction"),colorScheme:"danger",onClick:()=>t(`web3-wallet/${e.id}/remove`)})})})},_e=(0,s.withCardStateProvider)((()=>{const{attributes:e,social:t,instanceIsPasswordBased:i}=(0,l.useEnvironment)().userSettings,r=(0,s.useCardState)(),a=e.username.enabled,c=e.email_address.enabled,u=e.phone_number.enabled,d=t&&Object.values(t).filter((e=>e.enabled)).length>0,m=e.web3_wallet.enabled,f=i,p=v(e).length>0;return(0,o.BX)(n.Col,{elementDescriptor:n.descriptors.page,gap:8,children:[(0,o.tZ)(re.ap,{}),(0,o.tZ)(s.CardAlert,{children:r.error}),(0,o.BX)(n.Col,{elementDescriptor:n.descriptors.profilePage,elementId:n.descriptors.profilePage.setId("account"),gap:8,children:[(0,o.BX)(s.Header.Root,{id:"cl-section-account",children:[(0,o.tZ)(s.Header.Title,{localizationKey:(0,n.localizationKeys)("userProfile.start.headerTitle__account"),textVariant:"xxlargeMedium"}),(0,o.tZ)(s.Header.Subtitle,{localizationKey:(0,n.localizationKeys)("userProfile.start.headerSubtitle__account")})]}),(0,o.tZ)(Ze,{}),a&&(0,o.tZ)(ze,{}),c&&(0,o.tZ)(fe,{}),u&&(0,o.tZ)(be,{}),d&&(0,o.tZ)(de,{}),m&&(0,o.tZ)(Ce,{})]}),(0,o.BX)(n.Col,{elementDescriptor:n.descriptors.profilePage,elementId:n.descriptors.profilePage.setId("security"),gap:8,children:[(0,o.BX)(s.Header.Root,{id:"cl-section-security",children:[(0,o.tZ)(s.Header.Title,{localizationKey:(0,n.localizationKeys)("userProfile.start.headerTitle__security"),textVariant:"xxlargeMedium"}),(0,o.tZ)(s.Header.Subtitle,{localizationKey:(0,n.localizationKeys)("userProfile.start.headerSubtitle__security")})]}),f&&(0,o.tZ)(ye,{}),p&&(0,o.tZ)(ve,{}),(0,o.tZ)(ne,{})]})]})})),Be=(0,s.withCardStateProvider)((()=>{const e=(0,l.useCoreUser)(),t=(0,s.useCardState)(),i=(0,a.a2)(),r=(0,f.Yp)("username",e.username||"",{type:"text",label:(0,n.localizationKeys)("formFieldLabel__username"),placeholder:(0,n.localizationKeys)("formFieldInputPlaceholder__username")}),c=r.value.length>1&&e.username!==r.value;return(0,o.BX)(a.en,{...i.props,children:[(0,o.tZ)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.usernamePage.title"),Breadcrumbs:u._,children:(0,o.BX)(s.Form.Root,{onSubmit:async()=>{try{await e.update({username:r.value}),i.nextStep()}catch(e){(0,f.S3)(e,[r],t.setError)}},children:[(0,o.tZ)(s.Form.ControlRow,{elementId:r.id,children:(0,o.tZ)(s.Form.Control,{...r.props,required:!0,autoFocus:!0})}),(0,o.tZ)(s.FormButtons,{isDisabled:!c})]})}),(0,o.tZ)(s.SuccessPage,{title:(0,n.localizationKeys)("userProfile.usernamePage.title"),text:(0,n.localizationKeys)("userProfile.usernamePage.successMessage"),Breadcrumbs:u._})]})}));var Te=i(8621);const xe=(0,s.withCardStateProvider)((()=>{const e=(0,l.useCoreUser)(),{params:t}=(0,c.useRouter)(),{id:i}=t||{},d=r.useRef(e.web3Wallets.find((e=>e.id===i))),m=(0,a.a2)({defaultStep:d.current?1:0});return(0,o.BX)(a.en,{...m.props,children:[(0,o.tZ)(we,{nextStep:m.nextStep}),(0,o.tZ)(s.SuccessPage,{title:(0,n.localizationKeys)("userProfile.web3WalletPage.title"),text:(0,n.localizationKeys)("userProfile.web3WalletPage.successMessage"),Breadcrumbs:u._})]})})),we=e=>{const{nextStep:t}=e,i=(0,s.useCardState)(),r=(0,l.useCoreUser)(),{strategyToDisplayData:a}=(0,m.vO)(),c=0===r.web3Wallets.filter((e=>{var t;return"verified"===(null===(t=e.verification)||void 0===t?void 0:t.status)})).length?["web3_metamask_signature"]:[];return(0,o.BX)(s.ContentPage,{headerTitle:(0,n.localizationKeys)("userProfile.web3WalletPage.title"),Breadcrumbs:u._,children:[(0,o.tZ)(n.Text,{localizationKey:(0,n.localizationKeys)(c.length?"userProfile.web3WalletPage.subtitle__availableWallets":"userProfile.web3WalletPage.subtitle__unavailableWallets")}),(0,o.tZ)(n.Col,{gap:2,children:c.map((e=>(0,o.tZ)(s.ArrowBlockButton,{id:a[e].id,onClick:()=>(async e=>{try{i.setLoading(e);const o=await(0,Te.M)();let a=await r.createWeb3Wallet({web3Wallet:o});a=await a.prepareVerification({strategy:"web3_metamask_signature"});const l=a.verification.nonce,n=await(0,Te.w)({identifier:o,nonce:l});await a.attemptVerification({signature:n}),i.setIdle(),t()}catch(e){i.setIdle(),console.log(e);const t=(0,f.zQ)(e);t?i.setError(t.longMessage):(0,f.S3)(e,[],i.setError)}})(e),isLoading:i.loadingMetadata===e,isDisabled:i.isLoading,icon:(0,o.tZ)(n.Image,{elementDescriptor:n.descriptors.socialButtonsProviderIcon,elementId:n.descriptors.socialButtonsProviderIcon.setId(a[e].id),isLoading:i.loadingMetadata===e,isDisabled:i.isLoading,src:a[e].iconUrl,alt:`Connect ${a[e].name}`,sx:e=>({width:e.sizes.$5})}),children:`Connect ${a[e].name} wallet`},e)))}),(0,o.tZ)(s.FormButtonContainer,{sx:{marginTop:0},children:(0,o.tZ)(s.NavigateToFlowStartButton,{localizationKey:(0,n.localizationKeys)("userProfile.formButtonReset")})})]})},Re=e=>(0,o.BX)(s.ProfileCardContent,{contentRef:e.contentRef,children:[(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(_e,{})}),(0,o.tZ)(c.Route,{path:"profile",children:(0,o.tZ)(j,{})}),(0,o.tZ)(c.Route,{path:"email-address",children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:":id/remove",children:(0,o.tZ)(G,{})}),(0,o.tZ)(c.Route,{path:":id",children:(0,o.tZ)(K,{})}),(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(K,{})})]})}),(0,o.tZ)(c.Route,{path:"phone-number",children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:":id/remove",children:(0,o.tZ)(Q,{})}),(0,o.tZ)(c.Route,{path:":id",children:(0,o.tZ)(F,{})}),(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(F,{})})]})}),(0,o.tZ)(c.Route,{path:"multi-factor",children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:"totp/remove",children:(0,o.tZ)(ie,{})}),(0,o.tZ)(c.Route,{path:"backup_code/add",children:(0,o.tZ)(R,{})}),(0,o.tZ)(c.Route,{path:":id/remove",children:(0,o.tZ)(te,{})}),(0,o.tZ)(c.Route,{path:":id",children:(0,o.tZ)(O,{})}),(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(O,{})})]})}),(0,o.tZ)(c.Route,{path:"connected-account",children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:":id/remove",children:(0,o.tZ)(J,{})}),(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(p,{})})]})}),(0,o.tZ)(c.Route,{path:"web3-wallet",children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:":id/remove",children:(0,o.tZ)(ee,{})}),(0,o.tZ)(c.Route,{index:!0,children:(0,o.tZ)(xe,{})})]})}),(0,o.tZ)(c.Route,{path:"username",children:(0,o.tZ)(Be,{})}),(0,o.tZ)(c.Route,{path:"password",children:(0,o.tZ)(H,{})})]}),Ae=(0,l.withCoreUserGuard)((()=>{const e=r.useRef(null);return(0,o.tZ)(s.ProfileCard,{sx:{height:"100%"},children:(0,o.tZ)(u.Y,{contentRef:e,children:(0,o.tZ)(Re,{contentRef:e})})})})),ke=(0,a.ZP)((0,s.withCardStateProvider)((e=>(0,o.tZ)(n.Flow.Root,{flow:"userProfile",children:(0,o.tZ)(n.Flow.Part,{children:(0,o.BX)(c.Switch,{children:[(0,o.tZ)(c.Route,{path:"verify",children:(0,o.tZ)(C,{})}),(0,o.tZ)(c.Route,{children:(0,o.tZ)(Ae,{})})]})})})))),Le=e=>{const t={...e,routing:"virtual",componentName:"UserProfile",mode:"modal"};return(0,o.tZ)(c.Route,{path:"user",children:(0,o.tZ)(l.ComponentContext.Provider,{value:t,children:(0,o.tZ)("div",{children:(0,o.tZ)(ke,{...t})})})})}}}]);